{
  "schemaVersion": "BR-1.2",
  "steps": {
    "types": [
      "SHOW_TEXT",
      "ROLL_D6",
      "ROLL_D20",
      "SET_VARIABLE",
      "IF_ELSE",
      "OPPONENT_SAVE",
      "SELECT_TARGETS",
      "FOR_EACH_TARGET",
      "DEAL_DAMAGE",
      "HEAL",
      "APPLY_STATUS",
      "REMOVE_STATUS",
      "OPEN_REACTION_WINDOW",
      "MOVE_ENTITY",
      "MOVE_WITH_PATH_CAPTURE",
      "CALC_DISTANCE",
      "DRAW_CARDS",
      "MOVE_CARDS",
      "SHUFFLE_ZONE",
      "PUT_ON_TOP_ORDERED",
      "END_TURN_IMMEDIATELY",
      "EMPTY_HAND",
      "ADD_CARDS_TO_DECK",
      "REMOVE_CARDS_FROM_DECK",
      "SWAP_DECK",
      "SET_ENTITY_STATE",
      "TOGGLE_ENTITY_STATE",
      "CLEAR_ENTITY_STATE",
      "FIND_ENTITIES",
      "COUNT_ENTITIES",
      "FILTER_TARGET_SET",
      "SPAWN_ENTITY",
      "DESPAWN_ENTITY",
      "OPEN_UI_FLOW",
      "REQUEST_PLAYER_CHOICE",
      "REGISTER_INTERRUPTS",
      "PROPERTY_CONTEST",
      "WEBHOOK_CALL",
      "EMIT_EVENT",
      "AI_REQUEST"
    ],
    "groups": [
      {
        "id": "core",
        "label": "Core",
        "types": [
          "SHOW_TEXT",
          "SET_VARIABLE",
          "IF_ELSE",
          "OPPONENT_SAVE",
          "ROLL_D6",
          "ROLL_D20"
        ]
      },
      {
        "id": "targeting",
        "label": "Targeting & Iteration",
        "types": [
          "SELECT_TARGETS",
          "FOR_EACH_TARGET",
          "CALC_DISTANCE"
        ]
      },
      {
        "id": "combat",
        "label": "Combat & Status",
        "types": [
          "DEAL_DAMAGE",
          "HEAL",
          "APPLY_STATUS",
          "REMOVE_STATUS",
          "OPEN_REACTION_WINDOW"
        ]
      },
      {
        "id": "movement",
        "label": "Movement",
        "types": [
          "MOVE_ENTITY",
          "MOVE_WITH_PATH_CAPTURE"
        ]
      },
      {
        "id": "state",
        "label": "Entity State",
        "types": [
          "SET_ENTITY_STATE",
          "TOGGLE_ENTITY_STATE",
          "CLEAR_ENTITY_STATE"
        ]
      },
      {
        "id": "entities",
        "label": "Entity Query & Spawning",
        "types": [
          "FIND_ENTITIES",
          "COUNT_ENTITIES",
          "FILTER_TARGET_SET",
          "SPAWN_ENTITY",
          "DESPAWN_ENTITY"
        ]
      },
      {
        "id": "zones",
        "label": "Deck / Hand / Zones",
        "types": [
          "DRAW_CARDS",
          "MOVE_CARDS",
          "SHUFFLE_ZONE",
          "PUT_ON_TOP_ORDERED",
          "EMPTY_HAND",
          "ADD_CARDS_TO_DECK",
          "REMOVE_CARDS_FROM_DECK",
          "SWAP_DECK",
          "END_TURN_IMMEDIATELY"
        ]
      },
      {
        "id": "ui",
        "label": "UI / Subsystems",
        "types": [
          "OPEN_UI_FLOW",
          "REQUEST_PLAYER_CHOICE",
          "PROPERTY_CONTEST",
          "REGISTER_INTERRUPTS"
        ]
      },
      {
        "id": "integrations",
        "label": "Integrations (AI / Webhooks / Events)",
        "types": [
          "AI_REQUEST",
          "WEBHOOK_CALL",
          "EMIT_EVENT"
        ]
      }
    ]
  },
  "triggers": [
    "ACTIVE_ACTION",
    "PASSIVE_AURA",
    "REACTION",
    "ON_DEATH",
    "ON_DRAW",
    "ON_EQUIP",
    "ON_PLAY_FROM_HAND",
    "ON_TURN_START",
    "ON_TURN_END",
    "ON_ROUND_START",
    "ON_ROUND_END"
  ],
  "targeting": {
    "types": [
      "SELF",
      "SINGLE_TARGET",
      "AREA_RADIUS",
      "AREA_AROUND_TARGET",
      "LINE",
      "CONE",
      "GLOBAL_ANYWHERE"
    ],
    "origins": [
      "SOURCE",
      "TARGET",
      "ANYWHERE"
    ]
  },
  "keys": {
    "TokenKey": [
      "UMB",
      "AET",
      "CRD",
      "CHR",
      "STR",
      "RES",
      "WIS",
      "INT",
      "SPD",
      "AWR"
    ],
    "DistanceMetric": [
      "HEX",
      "SQUARE_MANHATTAN",
      "SQUARE_EUCLIDEAN",
      "SQUARE_CHEBYSHEV"
    ],
    "ZoneKey": [
      "ACTOR_ACTION_DECK",
      "ACTOR_ACTION_HAND",
      "ACTOR_ACTION_DISCARD",
      "ACTOR_ITEM_DECK",
      "ACTOR_ITEM_HAND",
      "ACTOR_ITEM_DISCARD",
      "OPPONENT_ACTION_DECK",
      "OPPONENT_ACTION_HAND",
      "OPPONENT_ACTION_DISCARD",
      "OPPONENT_ITEM_DECK",
      "OPPONENT_ITEM_HAND",
      "OPPONENT_ITEM_DISCARD",
      "SCENARIO_SHARED_DECK",
      "SCENARIO_SHARED_HAND",
      "SCENARIO_SHARED_DISCARD",
      "SCENARIO_EXILE"
    ],
    "DamageType": [
      "PHYSICAL",
      "ELECTRICAL",
      "FIRE",
      "COLD",
      "POISON",
      "SIEGE",
      "MAGICAL"
    ],
    "StatusKey": [
      "SLOWED",
      "STUNNED",
      "BURNING",
      "POISONED",
      "WET",
      "FROZEN",
      "MARKED",
      "FEARED",
      "INVISIBLE",
      "BLEEDING"
    ],
    "LoSMode": [
      "HEX_RAYCAST",
      "SQUARE_RAYCAST",
      "NONE",
      "ADVISORY"
    ],
    "LoSBlockPolicy": [
      "BLOCK_ALL",
      "BLOCK_RANGED",
      "BLOCK_AOE",
      "BLOCK_MAGIC",
      "BLOCK_NON_MAGICAL"
    ]
  },
  "uiFlows": {
    "types": [
      "CUSTOM",
      "PROPERTY_CONTEST",
      "AI_IMAGE_GENERATE",
      "STORM_CONVERGENCE_CHAIN"
    ]
  }
}